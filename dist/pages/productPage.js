"use strict";require(["../script/config.js"],function(){require(["jquery","swiper","common","template","jqueryCookie","bootstrap"],function(s,t,o,i,e){s("#header").load("common/header.html",function(){s(".phone p").html(o.createDate())}),s("#footer").load("common/footer.html");var r=JSON.parse(e.cookie("productMessage"))[0];console.log(r.price),s("#smallImg img").attr("src",r.img),s("#bigImg").attr("src",r.img),s("#smallCursor").width(s("#bigCursor").width()/s("#bigImg").width()*s("#smallImg img").width()),s("#smallCursor").height(s("#bigCursor").height()/s("#bigImg").height()*s("#smallImg img").height()),console.log(s("#bigCursor").width(),s("#bigImg").width(),s("#smallImg img").width(),s("#smallImg img").height()),s("#smallImg").hover(function(){s("#smallCursor").show(),s("#bigCursor").show()},function(){s("#smallCursor").hide(),s("#bigCursor").hide()});var l=s("#bigImg").height()/s("#smallImg").height();s("#smallImg").on("mousemove",function(t){var o=t.pageX-s(this).offset().left-s("#smallCursor").width()/2,i=t.pageY-s(this).offset().top-s("#smallCursor").height()/2;s("#smallCursor").css({left:Math.min(Math.max(0,o),s("#smallImg").width()-s("#smallCursor").width()),top:Math.min(Math.max(0,i),s("#smallImg").height()-s("#smallCursor").height())}),s("#bigImg").css({left:-s("#smallCursor").position().left*l,top:-s("#smallCursor").position().top*l})}),s("#productBox .nav .navBefore").text(r.name),s(".productMessage").children().eq(0).text(r.name),s(".productMessage").children().eq(1).find("em").text(r.price.slice(1));var m=1;s(".productNum").on("focus",".productCount",function(){s(this).val("")}),s(".productNum").on("change",".productCount",function(){/^\d+$/.test(s(this).val())?(m=parseInt(s(this).val()),s(this).parent().find("input").val(m)):s(this).val("请写数字")}),s(".productNum").on("click",".downbtn",function(){console.log("-"),console.log(s(this).parent().find("input").val()),--m<=0&&(m=0),s(this).parent().find("input").val(m)}),s(".productNum").on("click",".upbtn",function(){console.log("+"),m++,s(this).parent().find("input").val(m)})})});