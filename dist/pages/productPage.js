"use strict";require(["../script/config.js"],function(){require(["jquery","swiper","common","template","bootstrap"],function(s,t,o,i){s("#header").load("common/header.html",function(){s(".phone p").html(o.createDate())}),s("#footer").load("common/footer.html");var e=JSON.parse(o.getCookie("productMessage"))[0];console.log(e.price),s("#smallImg img").attr("src",e.img),s("#bigImg").attr("src",e.img),s("#smallCursor").width(s("#bigCursor").width()/s("#bigImg").width()*s("#smallImg img").width()),s("#smallCursor").height(s("#bigCursor").height()/s("#bigImg").height()*s("#smallImg img").height()),console.log(s("#bigCursor").width(),s("#bigImg").width(),s("#smallImg img").width(),s("#smallImg img").height()),s("#smallImg").hover(function(){s("#smallCursor").show(),s("#bigCursor").show()},function(){s("#smallCursor").hide(),s("#bigCursor").hide()});var r=s("#bigImg").height()/s("#smallImg").height();s("#smallImg").on("mousemove",function(t){var o=t.pageX-s(this).offset().left-s("#smallCursor").width()/2,i=t.pageY-s(this).offset().top-s("#smallCursor").height()/2;s("#smallCursor").css({left:Math.min(Math.max(0,o),s("#smallImg").width()-s("#smallCursor").width()),top:Math.min(Math.max(0,i),s("#smallImg").height()-s("#smallCursor").height())}),s("#bigImg").css({left:-s("#smallCursor").position().left*r,top:-s("#smallCursor").position().top*r})}),s("#productBox .nav .navBefore").text(e.name),s(".productMessage").children().eq(0).text(e.name),s(".productMessage").children().eq(1).find("em").text(e.price.slice(1));var l=1;s(".productNum").on("focus",".productCount",function(){s(this).val("")}),s(".productNum").on("change",".productCount",function(){/^\d+$/.test(s(this).val())?(l=parseInt(s(this).val()),s(this).parent().find("input").val(l)):s(this).val("请写数字")}),s(".productNum").on("click",".downbtn",function(){console.log("-"),console.log(s(this).parent().find("input").val()),--l<=0&&(l=0),s(this).parent().find("input").val(l)}),s(".productNum").on("click",".upbtn",function(){console.log("+"),l++,s(this).parent().find("input").val(l)})})});