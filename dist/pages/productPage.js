"use strict";require(["../script/config.js"],function(){require(["jquery","swiper","common","template","jqueryCookie","headerJs","bootstrap"],function(e,t,o,i,s,r){e("#header").load("common/header.html",function(){e(".phone p").html(o.createDate()),r.commonHeader()}),e("#footer").load("common/footer.html");var l=JSON.parse(s.cookie("productMessage"))[0];console.log(l.price),e("#smallImg img").attr("src",l.img),e("#bigImg").attr("src",l.img),e("#smallCursor").width(e("#bigCursor").width()/e("#bigImg").width()*e("#smallImg img").width()),e("#smallCursor").height(e("#bigCursor").height()/e("#bigImg").height()*e("#smallImg img").height()),console.log(e("#bigCursor").width(),e("#bigImg").width(),e("#smallImg img").width(),e("#smallImg img").height()),e("#smallImg").hover(function(){e("#smallCursor").show(),e("#bigCursor").show()},function(){e("#smallCursor").hide(),e("#bigCursor").hide()});var m=e("#bigImg").height()/e("#smallImg").height();e("#smallImg").on("mousemove",function(t){var o=t.pageX-e(this).offset().left-e("#smallCursor").width()/2,i=t.pageY-e(this).offset().top-e("#smallCursor").height()/2;e("#smallCursor").css({left:Math.min(Math.max(0,o),e("#smallImg").width()-e("#smallCursor").width()),top:Math.min(Math.max(0,i),e("#smallImg").height()-e("#smallCursor").height())}),e("#bigImg").css({left:-e("#smallCursor").position().left*m,top:-e("#smallCursor").position().top*m})}),e("#productBox .nav .navBefore").text(l.name),e(".productMessage").children().eq(0).text(l.name),e(".productMessage").children().eq(1).find("em").text(l.price.slice(1));var a=1;e(".productNum").on("focus",".productCount",function(){e(this).val("")}),e(".productNum").on("change",".productCount",function(){/^\d+$/.test(e(this).val())?(a=parseInt(e(this).val()),e(this).parent().find("input").val(a)):e(this).val("请写数字")}),e(".productNum").on("click",".downbtn",function(){console.log("-"),console.log(e(this).parent().find("input").val()),--a<=0&&(a=0),e(this).parent().find("input").val(a)}),e(".productNum").on("click",".upbtn",function(){console.log("+"),a++,e(this).parent().find("input").val(a)})})});