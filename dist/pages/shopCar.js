"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};require(["../script/config.js"],function(){require(["jquery","swiper","common","template","bootstrap"],function(o,t,s,e){o("#header").load("common/header.html",function(){o(".phone p").html(s.createDate())}),o("#footer").load("common/footer.html");var n=o("<div class='temp'></div>");if(o("body").append(n),s.getCookie("message")){var a=function(t){t.parent().find("input").val(p);var o=t.parent().siblings().eq(2).text(),s=parseInt(o.slice(1,o.length)),e=parseInt(t.parent().find("input").val());t.parent().siblings().eq(3).text("￥"+s*e)};o(".shopBoxLists").removeClass("emptyStyle");var i=JSON.parse(s.getCookie("message"));0==i.length?(o(".shopBoxLists").addClass("emptyStyle"),n.load("./templates/templates_shopCar.html",function(){var t=e("shopCarEmpty");o(".shopBoxLists").html(t)})):n.load("./templates/templates_shopCar.html",function(){var t=e("shopCarItems",{list:i});o(".shopBoxLists").html(t)});var p=1;o(".shopBoxLists").on("focus",".shopCount",function(){o(this).val("")}),o(".shopBoxLists").on("change",".shopCount",function(){/^\d+$/.test(o(this).val())?(p=parseInt(o(this).val()),a(o(this))):o(this).val("请写数字")}),o(".shopBoxLists").on("click",".downbtn",function(){console.log("-"),console.log(o(this).parent().find("input").val()),--p<=0&&(p=0),a(o(this))}),o(".shopBoxLists").on("click",".upbtn",function(){console.log("+"),p++,a(o(this))}),o(".shopBoxLists").on("click",".delbtn",function(){o(this).parent().parent().remove();for(var t=0;t<i.length;t++)i[t].goodsId===o(this).attr("goodsid")&&i.splice(t,1);s.setCookie("message",JSON.stringify(i),7),console.log(_typeof(s.getCookie("message"))),0==i.length&&(o(".shopBoxLists").addClass("emptyStyle"),n.load("./templates/templates_shopCar.html",function(){var t=e("shopCarEmpty");o(".shopBoxLists").html(t)}))})}else o(".shopBoxLists").addClass("emptyStyle"),n.load("./templates/templates_shopCar.html",function(){var t=e("shopCarEmpty");o(".shopBoxLists").html(t)})})});