"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};require(["../script/config.js"],function(){require(["jquery","swiper","common","template","bootstrap"],function(e,t,i,a){e(function(){e("#header").load("common/header.html",function(){e(".phone p").html(i.createDate())}),e("#footer").load("common/footer.html");var o=e("<div class='temp'></div>");if(e("body").append(o),i.getCookie("message")){var t=function(t){t.parent().find("input").val(n);var o=t.parent().siblings().eq(2).text(),s=parseInt(o.slice(1,o.length)),e=parseInt(t.parent().find("input").val());t.parent().siblings().eq(3).text("￥"+s*e)};e(".shopBoxLists").removeClass("emptyStyle");var s=JSON.parse(i.getCookie("message"));0==s.length?(e(".shopBoxLists").addClass("emptyStyle"),o.load("./templates/templates_shopCar.html",function(){var t=a("shopCarEmpty");e(".shopBoxLists").html(t)})):o.load("./templates/templates_shopCar.html",function(){var t=a("shopCarItems",{list:s});e(".shopBoxLists").html(t)});var n=1;e(".shopBoxLists").on("focus",".shopCount",function(){e(this).val("")}),e(".shopBoxLists").on("change",".shopCount",function(){/^\d+$/.test(e(this).val())?(n=parseInt(e(this).val()),t(e(this))):e(this).val("请写数字")}),e(".shopBoxLists").on("click",".downbtn",function(){console.log("-"),console.log(e(this).parent().find("input").val()),--n<=0&&(n=0),t(e(this))}),e(".shopBoxLists").on("click",".upbtn",function(){console.log("+"),n++,t(e(this))}),e(".shopBoxLists").on("click",".delbtn",function(){e(this).parent().parent().remove();for(var t=0;t<s.length;t++)s[t].goodsId===e(this).attr("goodsid")&&s.splice(t,1);i.setCookie("message",JSON.stringify(s),7),console.log(_typeof(i.getCookie("message"))),0==s.length&&(e(".shopBoxLists").addClass("emptyStyle"),o.load("./templates/templates_shopCar.html",function(){var t=a("shopCarEmpty");e(".shopBoxLists").html(t)}))})}else e(".shopBoxLists").addClass("emptyStyle"),o.load("./templates/templates_shopCar.html",function(){var t=a("shopCarEmpty");e(".shopBoxLists").html(t)})})})});