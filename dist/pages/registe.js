"use strict";require(["../script/config.js"],function(){require(["jquery","swiper","common","jqueryCookie","jqueryValidate","bootstrap"],function(n,e,r,o){n(function(){function s(){n("body").append('<div class="alert alert-success regSuccess" role="alert">注册成功！</div>'),n(".regSuccess").animate({top:"10px"},500,"linear",function(){var e=this;setTimeout(function(){n(e).animate({top:"-51px"},500,function(){n(location).attr("href","login.html")})},500)})}n("#header").load("common/header.html",function(){n(".phone p").html(r.createDate()),require(["headerJs"],function(){})}),n("#footer").load("common/footer.html"),n.validator.setDefaults({submitHandler:function(){}}),n("#regLists").validate({rules:{firstname:"required",username:{required:!0,minlength:2},password:{required:!0,minlength:5},confirm_password:{required:!0,minlength:5,equalTo:"#inputPassword3"},email:{required:!0,email:!0},number:{required:!0,maxlength:11,minlength:11}},messages:{firstname:"请输入您的名字",username:{required:"请输入用户名",minlength:"用户名至少由两个字符组成"},password:{required:"请输入密码",minlength:"密码长度不能小于 5 个字母"},confirm_password:{required:"请输入密码",minlength:"密码长度不能小于 5 个字母",equalTo:"两次密码输入不一致"},email:"请输入一个正确的邮箱",number:"请输入11位有效的数字"}}),n(".registeBtn").on("click",function(){if(""==n(".personName").val()||""==n(".personTel").val()||""==n(".personPassword").val()||""==n(".personRePassword").val()||11!=n(".personTel").val().length||n(".personPassword").val()!=n(".personRePassword").val()||n(".personPassword").val()<5||n(".personRePassword").val()<5)alert("请正确填写信息");else{var r={name:n(".personName").val(),telNum:n(".personTel").val(),password:n(".personPassword").val()},e=[];if(o.cookie("registeMessiges"))0==(e=JSON.parse(o.cookie("registeMessiges"))).filter(function(e){return e.telNum===r.telNum}).length?(e.push(r),s()):(alert("该手机号已注册！！"),n(".personTel").parent().addClass("has-error"),n(".personTel").focus(function(){n(this).parent().removeClass("has-error")}));else e=[r],s();o.cookie("registeMessiges",JSON.stringify(e),{expires:15})}})})})});